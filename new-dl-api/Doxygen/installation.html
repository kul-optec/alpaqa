<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>alpaqa: Installation instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams']
  },
  tex: {
    macros: {    Reals: "{\\mathrm{I\\!R}}",
    Nats: "{\\mathrm{I\\!N}}",
    Cplx: "{\\mathbb{C}}",
    R: "{\\Reals}",
    N: "{\\Nats}",
    C: "{\\Cplx}",
    Rn: "{\\Reals^n}",
    Rm: "{\\Reals^m}",
    gph: "{\\operatorname{\\mathbf{gph}}}",
    zer: "{\\operatorname{\\mathbf{zer}}}",
    fix: "{\\operatorname{\\mathbf{fix}}}",
    minimize: "{\\operatorname*{\\mathbf{minimize}}}",
    st: "{\\operatorname*{\\mathbf{s.\\!t.}}}",
    argmin: "{\\operatorname*{\\mathbf{arg\\,min}}}",
    argmax: "{\\operatorname*{\\mathbf{arg\\,max}}}",
    subjto: "{\\operatorname*{\\mathbf{subject\\;to}}}",
    prox: "{\\operatorname{\\mathbf{prox}}}",
    Hilb: "{\\mathcal{H}}",
    proj: ["{\\operatorname{\\mathbf{\\Pi}_\\mathnormal{#1}}}",1],
    dist: "{\\operatorname{\\mathbf{dist}}}",
    Id: "{\\mathrm{Id}}",
    I: "{\\mathrm{I}}",
    one: "{\\mathbf{1}}",
    defeq: "{\\triangleq}",
    inprod: ["{\\left\\langle {#1} \\,\\middle|\\, {#2} \\right\\rangle}",2],
    norm: ["{\\left\\| {#1} \\vphantom{X} \\right\\|}",1],
    normsq: ["{\\norm{#1}^2}",1],
    defset: ["{\\left\\{ {#1} \\;\\middle|\\; {#2} \\right\\}}",2],
    tp: ["{#1^\\top}",1],
    ttp: ["{#1^{\\!\\top\\!}}",1],
    herm: ["{#1^\\mathrm{H}}",1],
    invherm: ["{#1^{-\\mathrm{H}}}",1],
    inv: ["{#1^{-1}}",1],
    pinv: ["{#1^\\dagger}",1],
    lconj: "{\\overline}",
    sconj: ["{#1^*}",1],
    iddots: "{\\mathinner{\\kern1mu\\raise1pt{.}\\kern2mu\\raise4pt{.}\\kern2mu\\raise7pt{\\Rule{0pt}{7pt}{0pt}.}\\kern1mu}}",
    imagfun: ["{\\left(#1\\right)\\left(#2\\right)}",2],
    Lagr: "{\\mathcal{L}}",
    jac: "{\\mathrm{J}}",
    dft: "{\\operatorname{\\mathbf{dft}}}",
    cbrt: ["{\\sqrt[3]{#1}}",1],
    sgn: "{\\operatorname{\\mathbf{sgn}}}",
    setmap: "{\\rightrightarrows}",
    lammin: "{\\lambda_\\text{min}}",
    lammax: "{\\lambda_\\text{max}}",
    Sc: "{\\mathcal{S}}",
    Scstar: "{\\mathcal{S}^*}",
    diag: "{\\operatorname{\\mathbf{diag}}}",
    blkdiag: "{\\operatorname{\\mathbf{blkdiag}}}",
    posdef: "{\\succ}",
    possdef: "{\\succeq}",
    half: "{\\tfrac{1}{2}}",
    hhbar: "{\\hbar}",
    barxuk: "{\\bar x^k\\!, \\bar u^k}",
    },
    packages: ['base','configmacros','newcommand','ams']
  }
};
window.MathJax.tex.tags = 'ams';
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&family=Roboto:wght@400&family=Roboto:wght@500&display=swap" rel="stylesheet">
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">alpaqa<span id="projectnumber">&#160;<code><a href="/alpaqa/index.html">new-dl-api</a></code></span>
   </div>
   <div id="projectbrief">Nonconvex constrained optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Installation instructions</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><blockquote class="doxtable">
<p>&zwj;<b>Note</b> <br  />
 This page contains detailed instructions for building and installing all of alpaqa from source. For the installation of the Python package without building it from source, as well as installation instructions for pre-built, released binaries of the C++ library and the MATLAB interface, please see <a href="../Sphinx/install/installation.html">these instructions</a> instead. For instructions on how to get alpaqa through the <a href="https://conan.io/">Conan</a> package manager, see the <a class="el" href="examples.html#cmake_examples">CMake examples</a>. </p>
</blockquote>
<h1><a class="anchor" id="linux"></a>
Linux</h1>
<h2><a class="anchor" id="tools"></a>
Tools</h2>
<p>First, install some basic tools: C and C++ compilers, Git, and Python (you'll need the development version to build alpaqa's Python interface, and we install the <code>venv</code> module to create virtual environments). </p><div class="fragment"><div class="line">sudo apt install g++ gcc git python3-venv python3-dev</div>
</div><!-- fragment --><p> The alpaqa package requires a relatively recent compiler (tested using GCC 10-13, Clang (libc++) 16-17, or Clang (libstdc++) 17).</p>
<p>To install GCC 11 on older versions of Ubuntu, you can use </p><div class="fragment"><div class="line">sudo apt update</div>
<div class="line">sudo apt install software-properties-common</div>
<div class="line">sudo add-apt-repository ppa:ubuntu-toolchain-r/test</div>
<div class="line">sudo apt install gcc-11 g++-11</div>
</div><!-- fragment --><p> To install the latest version of Clang, you can use the instructions from <a href="https://apt.llvm.org">https://apt.llvm.org</a>: </p><div class="fragment"><div class="line">bash -c &quot;$(wget -O- https://apt.llvm.org/llvm.sh)&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="clone-the-repository"></a>
Clone the repository</h2>
<div class="fragment"><div class="line">git clone https://github.com/kul-optec/alpaqa --branch=develop --single-branch</div>
</div><!-- fragment --><h2><a class="anchor" id="create-a-virtual-environment"></a>
Create a virtual environment</h2>
<p>For convenience, we'll install everything into a Python virtual environment (including the C++ libraries and dependencies). This allows you to easily experiment in a sandbox, without requiring root permissions, and without the risk of messing with system packages.</p>
<div class="fragment"><div class="line">cd alpaqa</div>
<div class="line">python3 -m venv .venv</div>
<div class="line">. ./.venv/bin/activate</div>
<div class="line">pip install cmake ninja casadi numpy</div>
</div><!-- fragment --><h2><a class="anchor" id="install-dependencies"></a>
Install dependencies</h2>
<p>The <code>scripts</code> folder contains some Bash scripts to install the necessary dependencies. Feel free to inspect and modify the installation scripts. If you already have the dependencies installed globally you can skip these steps.</p>
<div class="fragment"><div class="line">bash ./scripts/install-casadi-static.sh &quot;$VIRTUAL_ENV&quot; Release</div>
<div class="line">bash ./scripts/install-gtest.sh &quot;$VIRTUAL_ENV&quot; Release</div>
<div class="line">bash ./scripts/install-eigen.sh &quot;$VIRTUAL_ENV&quot; Release</div>
</div><!-- fragment --><p>CasADi is built as a static library because it is later statically linked into the final alpaqa libraries for better portability, this is especially useful when creating the Python package. If you need to link against CasADi dynamically, you can use the <code>install-casadi.sh</code> script instead.</p>
<h2><a class="anchor" id="build-and-install"></a>
Build and install</h2>
<p>The following commands build and install the alpaqa C++ library into the virtual environment. <br  />
 You may want to change the installation prefix, e.g. use <code>--prefix /usr/local</code> for a system-wide install (requires <code>sudo</code>), or <code>--prefix $HOME/.local</code> to install it for the current user.</p>
<div class="fragment"><div class="line">cmake -S. -Bbuild -G &quot;Ninja Multi-Config&quot;</div>
<div class="line"> </div>
<div class="line">cmake --build build --config Release -j       # Build in release mode</div>
<div class="line">cmake --build build -t test                   # Run the tests</div>
<div class="line">cmake --install build --prefix &quot;$VIRTUAL_ENV&quot; # Install the release version</div>
<div class="line"> </div>
<div class="line">cmake --build build --config Debug -j         # Build in debug mode</div>
<div class="line">cmake --build build -t test                   # Run the tests with extra checks</div>
<div class="line">cmake --install build --prefix &quot;$VIRTUAL_ENV&quot; # Install the debug version</div>
</div><!-- fragment --><p> Installing both the release and debug versions can be very useful for checking matrix dimension errors and out of bounds accesses during development, and switching to an optimized version later.</p>
<blockquote class="doxtable">
<p>&zwj;<b>Note</b> <br  />
 If you changed the installation prefix, and unless you installed the package to a system folder like <code>/usr/local</code>, you'll have to add <code>~/.local</code> to the <code>CMAKE_PREFIX_PATH</code>, e.g. by adding the following to your <code>~/.profile</code> file, where <code>$HOME/.local</code> was the prefix used in the when installing alpaqa earlier: </p><div class="fragment"><div class="line">export CMAKE_PREFIX_PATH=&quot;$HOME/.local:$CMAKE_PREFIX_PATH&quot;</div>
</div><!-- fragment --><p> Then source it (<code>. ~/.profile</code>) or log out and back in again. </p>
</blockquote>
<h1><a class="anchor" id="windows"></a>
Windows</h1>
<p>The instructions for Windows are quite similar to the ones for Linux. To install the dependencies, you can use the Powershell scripts instead of the Bash scripts:</p>
<div class="fragment"><div class="line">./scripts/install-casadi-static.ps1</div>
<div class="line">./scripts/install-gtest.ps1</div>
<div class="line">./scripts/install-eigen.ps1</div>
</div><!-- fragment --><h1><a class="anchor" id="macos"></a>
macOS</h1>
<p>The instructions for macOS are the same as the ones for Linux, with the caveat that the default AppleClang compiler might not yet support the necessary C++20 features used by alpaqa. If this is the case, you can use a mainline Clang compiler (version 16 or higher), that you install using Homebrew or another package manager. <br  />
 You can select the compiler to use by setting the <code>CC</code> and <code>CXX</code> environment variables and reconfiguring the project, for example: </p><div class="fragment"><div class="line">export CC=clang-16</div>
<div class="line">export CXX=clang++-16</div>
<div class="line">rm build/CMakeCache.txt  # Remove cache to trigger a fresh CMake configuration</div>
</div><!-- fragment --><p>Xcode 15 or later include Clang 16 and are known to work.</p>
<hr  />
<h1><a class="anchor" id="usage"></a>
Usage</h1>
<p>Once the library is installed, you can use it in your own projects.</p>
<p>For example:</p>
<p><b>main.cpp</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="panoc-alm_8hpp.html">alpaqa/panoc-alm.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="alpaqa-driver_8cpp.html#ac0f2228420376f4db7e1274f2b41667c">main</a>() {</div>
<div class="line">    <span class="comment">// Use the solvers as shown in the examples</span></div>
<div class="line">}</div>
<div class="ttc" id="aalpaqa-driver_8cpp_html_ac0f2228420376f4db7e1274f2b41667c"><div class="ttname"><a href="alpaqa-driver_8cpp.html#ac0f2228420376f4db7e1274f2b41667c">main</a></div><div class="ttdeci">int main(int argc, const char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="alpaqa-driver_8cpp_source.html#l00323">alpaqa-driver.cpp:323</a></div></div>
<div class="ttc" id="apanoc-alm_8hpp_html"><div class="ttname"><a href="panoc-alm_8hpp.html">panoc-alm.hpp</a></div></div>
</div><!-- fragment --><p><b>CMakeLists.txt</b> </p><div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.17)</div>
<div class="line">project(Project)</div>
<div class="line"> </div>
<div class="line"># Find the library you just installed:</div>
<div class="line">find_package(alpaqa REQUIRED)</div>
<div class="line"> </div>
<div class="line">add_executable(main main.cpp)</div>
<div class="line"># Link your executable with the library:</div>
<div class="line">target_link_libraries(main PRIVATE alpaqa::alpaqa)</div>
</div><!-- fragment --><p>Different targets are available. Depending on your needs, you might want to link to:</p>
<ul>
<li><code>alpaqa::alpaqa</code>: the core alpaqa library and solvers</li>
<li><code>alpaqa::casadi-loader</code>: provides the <code>CasADiProblem</code> class that allows the solvers to interface with problems formulated using CasADi</li>
<li><code>alpaqa::casadi-ocp-loader</code>: experimental optimal-control specific CasADi problem specification</li>
<li><code><a class="el" href="namespacealpaqa_1_1dl.html">alpaqa::dl</a>-api</code>: the stand-alone C API for formulating problems that can be loaded dynamically by alpaqa (<code><a class="el" href="dl-problem_8h.html">alpaqa/dl/dl-problem.h</a></code>)</li>
<li><code><a class="el" href="namespacealpaqa_1_1dl.html">alpaqa::dl</a>-loader</code>: provides the <code>DLProblem</code> class to load such problems</li>
<li><code><a class="el" href="namespacealpaqa_1_1cutest.html">alpaqa::cutest</a>-interface</code>: provides the <code>CUTEstProblem</code> class for loading problems formulated using SIF/CUTEst</li>
<li><code><a class="el" href="namespacealpaqa.html#aaf33d0d11e4ffd7c822e41589b19b42b">alpaqa::ipopt</a>-adapter</code>: allows passing any alpaqa problem to the Ipopt solver</li>
<li><code><a class="el" href="namespacealpaqa_1_1lbfgsb.html">alpaqa::lbfgsb</a>-adapter</code>: allows passing any alpaqa problem to the L-BFGS-B solver</li>
<li><code><a class="el" href="namespacealpaqa.html#aaf33d0d11e4ffd7c822e41589b19b42b">alpaqa::qpalm</a>-adapter</code>: allows passing any alpaqa problem to the QPALM solver</li>
</ul>
<h1><a class="anchor" id="python"></a>
Python</h1>
<p>After creating the virtual environment and installing the dependencies, you can install the Python module using: </p><div class="fragment"><div class="line">pip install .</div>
</div><!-- fragment --><p> To build the Python package without installing, you can use: </p><div class="fragment"><div class="line">pip install build</div>
<div class="line">python3 -m build .</div>
</div><!-- fragment --><h1><a class="anchor" id="matlab"></a>
Matlab</h1>
<p>The previous steps are not required to install the MATLAB/MEX interface. We'll use <a href="https://conan.io/">Conan</a> to manage and build the necessary dependencies.</p>
<h2><a class="anchor" id="linux-and-macos"></a>
Linux and macOS</h2>
<div class="fragment"><div class="line">python3 -m pip install -U conan cmake ninja</div>
<div class="line">conan profile detect --force</div>
<div class="line">conan create scripts/recipes/casadi --build=missing</div>
<div class="line">conan install . \</div>
<div class="line">    --build=missing \</div>
<div class="line">    -c tools.cmake.cmaketoolchain:generator=&quot;Ninja Multi-Config&quot; \</div>
<div class="line">    -of build-matlab \</div>
<div class="line">    -o with_matlab=True -o with_json=True -o with_casadi=True</div>
<div class="line">cmake --preset conan-default</div>
<div class="line">cmake --build --preset conan-release -j -t alpaqa_mex</div>
<div class="line">cmake --install build-matlab/build \</div>
<div class="line">    --prefix ~/Documents/MATLAB --component mex_interface</div>
</div><!-- fragment --><h2><a class="anchor" id="windows-1"></a>
Windows</h2>
<div class="fragment"><div class="line">python -m pip install -U conan cmake ninja</div>
<div class="line">conan profile detect --force</div>
<div class="line">conan create scripts/recipes/casadi --build=missing</div>
<div class="line">conan install . \</div>
<div class="line">    --build=missing \</div>
<div class="line">    -of build-matlab \</div>
<div class="line">    -o with_matlab=True -o with_json=True -o with_casadi=True</div>
<div class="line">cmake --preset conan-default</div>
<div class="line">cmake --build --preset conan-release -j -t alpaqa_mex</div>
<div class="line">cmake --install build-matlab/build \</div>
<div class="line">    --prefix &quot;$env:USERPROFILE\Documents\MATLAB&quot; --component mex_interface</div>
</div><!-- fragment --><h2><a class="anchor" id="uninstall"></a>
Uninstall</h2>
<p>To uninstall the alpaqa MATLAB/MEX interface, simply remove the <code>+alpaqa</code> directory, e.g. by running the following command in the MATLAB command window:</p>
<div class="fragment"><div class="line">rmdir(fullfile(userpath, &#39;+alpaqa&#39;), &#39;s&#39;)</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2024 for alpaqa by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
